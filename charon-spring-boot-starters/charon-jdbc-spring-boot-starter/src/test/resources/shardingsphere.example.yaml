databaseName: logic_db

dataSources:
  ds_0:
    password: 123456
    dataSourceClassName: com.zaxxer.hikari.HikariDataSource
    url: jdbc:mysql://localhost:3306/ds_0?useServerPrepStmts=true&serverTimezone=UTC&useSSL=false&useLocalSessionState=true&characterEncoding=utf-8&allowPublicKeyRetrieval=true&rewriteBatchedStatements=true
    username: root
  ds_1:
    password: 123456
    dataSourceClassName: com.zaxxer.hikari.HikariDataSource
    url: jdbc:mysql://localhost:3306/ds_1?useServerPrepStmts=true&serverTimezone=UTC&useSSL=false&useLocalSessionState=true&characterEncoding=utf-8&allowPublicKeyRetrieval=true&rewriteBatchedStatements=true
    username: root
rules:
  - !SHARDING
    autoTables:
      t_user:
        actualDataSources: ds_0,ds_1
        keyGenerateStrategy:
          column: id
          keyGeneratorName: t_user_snowflake
        logicTable: t_user
        shardingStrategy:
          standard:
            shardingAlgorithmName: t_user_hash_mod
            shardingColumn: id
    keyGenerators:
      t_user_snowflake:
        type: snowflake
    shardingAlgorithms:
      t_user_hash_mod:
        props:
          sharding-count: '2'
        type: hash_mod